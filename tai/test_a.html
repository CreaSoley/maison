<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ¥‹ Carnet dâ€™entraÃ®nement KaratÃ©</title>

<style>
body{margin:0;font-family:system-ui;background:#ffecd2}
header{text-align:center;padding:14px;background:#84fab0}
.container{max-width:900px;margin:auto;padding:16px}

button{
 padding:12px 18px;border:none;border-radius:18px;
 margin:6px;font-size:16px
}

ul{list-style:none;padding:0}
li{
 background:#fff;margin:10px 0;padding:14px;
 border-radius:16px
}

.progress{height:8px;background:#ddd;border-radius:8px;margin-top:6px}
.progress div{height:100%;background:#84fab0}

.modal{
 position:fixed;inset:0;background:rgba(0,0,0,.5);
 display:none;align-items:center;justify-content:center
}
.card{
 background:#fff;border-radius:18px;padding:20px;
 width:90%;max-width:520px;max-height:90%;overflow:auto
}

.smile{font-size:26px;padding:6px;cursor:pointer}
.smile.active{transform:scale(1.3)}
</style>
</head>

<body>

<header>
<h1>ğŸ¥‹ Carnet dâ€™entraÃ®nement</h1>
</header>

<div class="container">

<button onclick="start()">â–¶ Lancer</button>
<button onclick="newSession()">â™» Nouvelle sÃ©ance</button>
<button onclick="openEval()">ğŸ“ Auto-Ã©valuation</button>

<ul id="program"></ul>

</div>

<div class="modal" id="evalModal">
 <div class="card">
  <h2>ğŸ“ Auto-Ã©valuation du jour</h2>
  <div id="evalContent"></div>
  <button onclick="saveEval()">ğŸ’¾ Enregistrer</button>
  <button onclick="closeEval()">Fermer</button>
 </div>
</div>

<script>
/* ---------- CONFIG ---------- */
var UV_CRITERIA={
 Kihon:["distance","kime","prÃ©cision"],
 Kata:["fluiditÃ©","Ã©quilibre"],
 Randori:["distance","engagement"]
};

/* ---------- STATE ---------- */
var exercises=[
 {name:"Kihon",uv:"Kihon",duration:1,progress:0},
 {name:"Kata",uv:"Kata",duration:1,progress:0},
 {name:"Randori",uv:"Randori",duration:1,progress:0}
];

var interval=null,currentIndex=0;

/* ---------- INIT ---------- */
render();

/* ---------- RENDER ---------- */
function render(){
 var ul=document.getElementById("pro
