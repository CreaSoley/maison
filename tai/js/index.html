<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coach Tai Jitsu â€“ SÃ©ance + Ã‰valuation</title>
<style>
body { font-family: system-ui, sans-serif; margin:0; background:linear-gradient(to right,#ffecd2,#fcb69f); }
h1 { text-align:center; padding:1rem; }
.container { max-width:1100px; margin:auto; padding:1rem; display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
.panel { background:#fff; border-radius:16px; padding:1rem; box-shadow:0 6px 14px rgba(0,0,0,.15); }
.uv { margin-bottom:1rem; }
.exercise { display:flex; justify-content:space-between; align-items:center; padding:.5rem .7rem; border-radius:10px; margin:.3rem 0; background:#f5f5f5; }
.exercise.selected { background:#d1f5d3; }
.exercise.active { background:#ffe8b3; }
.exercise.done { text-decoration:line-through; opacity:.6; }
.exercise button { border:none; border-radius:8px; padding:.3rem .6rem; cursor:pointer; font-size:1rem; }
.controls { margin-top:.8rem; display:flex; gap:.5rem; flex-wrap:wrap; }
input[type=text] { width:100%; padding:.6rem; border-radius:10px; border:1px solid #ccc; margin-bottom:.5rem; }
input[type=range]{ width:120px; margin-left:.5rem; }
#progress, #sessionProgress { width:100%; height:16px; margin-top:.8rem; }
/* Overlay plein Ã©cran */
#trainingOverlay { display:none; position:fixed; inset:0; background:linear-gradient(to right,#84fab0,#8fd3f4); z-index:999; flex-direction:column; justify-content:center; align-items:center; color:#000; font-family:system-ui,sans-serif; }
#trainingOverlay h1 { font-size:3rem; margin-bottom:1rem; }
#trainingOverlay #timer { font-size:4rem; margin-bottom:1rem; }
#trainingOverlay progress { width:80%; height:24px; }
#trainingOverlay button { margin-top:2rem;padding:1rem 2rem;font-size:1.2rem;border-radius:12px; cursor:pointer; }
textarea { width:100%; border-radius:12px; padding:.6rem; margin-top:.5rem; }
label{ font-weight:bold; display:block; margin-top:.5rem; }
.emoji-btn{ font-size:1.5rem; cursor:pointer; margin-right:.5rem; }
.selected-emoji{ border:2px solid #333; border-radius:6px; }
.history-item{ border-bottom:1px solid #ccc; padding:.3rem 0; }
</style>
</head>
<body>
<h1>ğŸ¥‹ Coach Tai Jitsu â€“ SÃ©ance + Ã‰valuation</h1>

<div class="container">
  <!-- BANQUE -->
  <div class="panel">
    <h2>ğŸ“š Banque d'exercices</h2>
    <div id="bank"></div>
  </div>

  <!-- SÃ‰LECTION + NOTES + OBJECTIFS + CONTROLS -->
  <div class="panel">
    <h2>ğŸ“ SÃ©ance sÃ©lectionnÃ©e</h2>
    <input type="text" id="sessionName" placeholder="Nom de la sÃ©ance">
    <div id="selection"></div>

    <label>Carnet de notes :</label>
    <textarea id="notes" rows="3" placeholder="Ressenti du jour..."></textarea>

    <h3>ğŸ¯ Objectifs hebdomadaires</h3>
    <div id="goals"></div>

    <div class="controls">
      <button onclick="saveSelection(selection)">ğŸ’¾ Sauvegarder la sÃ©lection</button>
      <button onclick="clearSelection()">ğŸ§¹ Vider la sÃ©lection</button>
      <button onclick="startSession()">â–¶ï¸ Commencer entraÃ®nement</button>
      <button onclick="toggleFullscreenUI()">ğŸ“± Plein Ã©cran</button>
      <button onclick="showHistory()">ğŸ“Š Historique</button>
    </div>
    <progress id="sessionProgress" value="0" max="100"></progress>
  </div>
</div>

<!-- Overlay plein Ã©cran exercice -->
<div id="trainingOverlay">
  <h1 id="exerciseName">Exercice</h1>
  <div id="timer">00:00</div>
  <progress id="sessionProgressOverlay" value="0" max="100"></progress>
  <button onclick="toggleFullscreenUI()">âŒ Quitter plein Ã©cran</button>
</div>

<!-- Modal historique -->
<div id="modal" style="display:none; position:fixed; inset:0;background:rgba(0,0,0,0.6); color:#000; z-index:1000; justify-content:center; align-items:center; padding:1rem; overflow:auto;">
  <div style="background:#fff; border-radius:16px; padding:1rem; max-width:600px; width:100%;">
    <h2>ğŸ“‹ Historique & Ã‰valuation</h2>
    <div id="historyList"></div>
    <button onclick="closeModal()" style="margin-top:1rem;">âŒ Fermer</button>
  </div>
</div>

<audio id="beep" src="beep.mp3"></audio>
<audio id="ding" src="ding.mp3"></audio>

<!-- JS Modulaire -->
<script type="module" src="main.js"></script>
</body>
</html>
