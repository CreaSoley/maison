<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tai-Jitsu â€“ EntraÃ®nement</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Ajout de Fredoka pour un style plus "Spicy/Kawai" sur les Ã©lÃ©ments non-titres -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
    /* ---------- Fonts & palette ---------- */
    @font-face { font-family: "Spicy"; src: url("Spicy Sale.ttf"); }

    :root{
      --pink-1:#fff0f6; /* Rose trÃ¨s clair (fond sub-section) */
      --pink-2:#ffd6ec; /* Rose clair (bordures) */
      --accent:#ff5fc1; /* Rose flashy/vif */
      --card-shadow: 0 10px 24px rgba(255,120,180,0.12);
      --hot-pink:#ff1493; /* Rose trÃ¨s foncÃ© */
      --bg-gradient: linear-gradient(180deg,#fff6fb 0%, #ffeef6 100%);
      --text:#222;
      --radius:20px; /* AugmentÃ© pour l'effet Kawaii */
    }

    /* ---------- Base ---------- */
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: 'Fredoka', Arial, sans-serif; /* Utilisation de Fredoka */
      color:var(--text);
      background: var(--bg-gradient);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    a{ color:inherit; }

    /* ---------- Header (GARDÃ‰ NOIR/BLANC) ---------- */
    header{
      background:#000;
      color:#fff;
      padding:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:18px;
      box-shadow:0 6px 18px rgba(0,0,0,0.25);
    }
    header img{ height:64px; }
    header h1{ font-family:"Spicy"; font-size:2.2rem; margin:0; color:var(--pink-2); }

    /* ---------- Layout ---------- */
    .main-wrapper{ max-width:1400px; margin:20px auto; padding:0 18px 40px; }
    .grid{
      display:grid;
      gap:20px;
      grid-template-columns: repeat(3,1fr); /* 3 colonnes sur desktop */
      align-items:stretch; /* Pour que toutes les cartes aient la mÃªme hauteur */
    }
    @media (max-width:1100px){ .grid{ grid-template-columns: repeat(2,1fr); } } /* 2 colonnes sur tablette */
    @media (max-width:700px){ .grid{ grid-template-columns: 1fr; } } /* 1 colonne sur mobile */

    /* ---------- Card Kawaii (Nouveau style pour toutes les UV) ---------- */
    .card-kawaii {
        background: white;
        border: 3px solid var(--pink-2);
        border-radius: var(--radius);
        padding: 20px;
        box-shadow: 0 8px 15px rgba(255, 182, 193, 0.4);
        display: flex;
        flex-direction: column;
    }

    .module-title {
        font-family: "Spicy", sans-serif;
        color: var(--hot-pink);
        font-size: 1.8rem;
        text-align: center;
        margin-bottom: 15px;
        text-shadow: 2px 2px 0px var(--pink-2);
        flex-shrink: 0; /* EmpÃªche le titre de se compresser */
    }

    .sub-section {
        background: var(--pink-1);
        border-radius: 15px;
        padding: 15px;
        margin-bottom: 15px;
        border: 1px dashed var(--accent);
        flex-grow: 1; /* Permet Ã  la section de prendre l'espace restant */
    }

    .sub-section h3, .sub-section summary {
        font-family: 'Fredoka', sans-serif; /* UtilisÃ© pour les sous-titres */
        color: var(--hot-pink);
        margin-top: 0;
        font-size: 1.2rem;
        font-weight: 600;
        padding-bottom: 5px;
    }

    /* ---------- Controls et Affichage ---------- */
    .controls-row {
        display: flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 10px;
        font-size: 0.95rem;
    }
    .controls-row label {
        font-weight: 600;
    }

    .result-display {
        background: #fff;
        border: 2px solid var(--pink-2);
        border-radius: 12px;
        padding: 15px;
        min-height: 60px;
        text-align: center;
        font-weight: bold;
        font-size: 1.2rem;
        color: #c9184a;
        margin: 10px 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .input-small {
        width: 70px;
        padding: 6px;
        border-radius: 8px;
        border: 1px solid var(--pink-2);
        text-align: center;
        font-family: 'Fredoka', sans-serif;
    }

    /* Style des boutons */
    .button-row {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .btn-kawaii {
        flex: 1;
        font-family: "Spicy", sans-serif;
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 50px;
        cursor: pointer;
        transition: transform 0.2s;
        box-shadow: 0 4px 0px #d6459b;
        font-size: 0.9rem;
        font-weight: normal; /* Spicy font est dÃ©jÃ  gras */
    }

    .btn-kawaii:hover {
        transform: scale(1.03);
        background: var(--hot-pink);
    }

    .btn-kawaii:active {
        transform: translateY(3px);
        box-shadow: none;
    }

    .btn-stop {
        background: #ff4d6d;
        box-shadow: 0 4px 0px #c9184a;
    }

    .btn-small {
        padding: 6px 10px;
        font-size: 0.8rem;
    }

    /* IcÃ´ne Beep */
    .beep-icon {
        font-size: 1.3rem;
        color: var(--accent);
        cursor: pointer;
        transition: 0.3s;
    }
    .beep-icon.off {
        opacity: 0.3;
        filter: grayscale(1);
    }

    input[type=range] {
        accent-color: var(--accent);
        cursor: pointer;
        flex-grow: 1;
    }

    /* Accordion */
    details { margin-bottom: 10px; }
    summary { 
        background: var(--pink-2); 
        padding: 10px; 
        border-radius: 8px; 
        cursor: pointer; 
        color: var(--hot-pink); 
        font-weight: 700;
    }
    details .inner { 
        padding: 12px; 
        background: #fff; 
        border-radius: 8px; 
        margin-top: 8px; 
        border: 1px solid var(--pink-2);
    }
    details iframe {
        width: 100%;
        height: 180px;
        border: none;
        border-radius: 8px;
        margin-top: 10px;
    }

    /* Liste dans le contenu */
    .content ul {
        list-style: none;
        padding-left: 0;
    }
    .content ul li {
        background: #fff;
        padding: 8px;
        margin-bottom: 5px;
        border-radius: 5px;
        border-left: 5px solid var(--accent);
    }

    /* Autres utilitaires */
    .muted { color:#999; font-size:0.9rem; }
  </style>
</head>
<body>

<header>
    <!-- Le lien entoure le logo et le titre pour rendre toute la zone cliquable -->
    <a href="index.html" style="text-decoration: none; display: flex; align-items: center; gap: 18px;">
        <img src="logo.png" alt="Logo">
        <h1>Kihon</h1>
    </a>
</header>

  <!-- CONTENU GLOBAL -->
  <main class="container layout-desktop">

    <!-- KIHON SIMPLE (colonne principale) -->
    <section class="card-block wide" id="kihonSimple">
      <h2 class="spicy section-title">ðŸ¥‹ Kihon simple</h2>

      <!-- Filtres + recherche -->
      <div class="controls controls-column">
        <input id="searchKihon" type="search" placeholder="Rechercher une technique...">
        <select id="filterCategorie">
          <option value="">Toutes catÃ©gories</option>
        </select>
        <button id="btnRandomKihon" class="btn ghost kawaii">âœ¨ Surprise</button>
      </div>

      <!-- Liste filtrÃ©e (vide au premier chargement) -->
      <div id="kihonList" class="list-results"></div>

      <!-- Bloc dÃ©taillÃ© cachÃ© tant qu'on n'a pas cliquÃ© -->
      <div id="kihonResult" class="kihon-layout hidden">
        <div class="kihon-text">
          <h3 id="techNom"></h3>
          <p id="techCat"></p>
          <p id="techDesc"></p>
        </div>

        <div class="kihon-media">
          <img id="techPhoto" class="photo" src="">
          <iframe id="techVideo" class="video" src="" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </section>

    <!-- ENCHAINEMENT + CIBLE (colonne latÃ©rale) -->
   <section class="card-block stack" id="kihonComboCible">
    <h2 class="spicy section-title">ðŸ’« Enchainement & Cible</h2>

    <!-- Enchainement -->
    <div class="sub-card kawaii-card">
        <h3 class="spicy">ðŸ”— Enchainement de kihon</h3>
        <button id="btnCombo" class="btn primary kawaii">ðŸ”„ Nouvel enchaÃ®nement</button>
        <div id="comboResult" class="result-card"></div>
    </div>

    <div class="pdf-buttons">
        <a href="pdf/ippon_kumite.pdf" class="pdf-btn" data-tooltip="TÃ©lÃ©charger le PDF complet">
            ðŸ“„ Ippon Kumite
        </a>
        <a href="pdf/tai_sabaki.pdf" class="pdf-btn" data-tooltip="TÃ©lÃ©charger le guide des dÃ©placements">
            ðŸ“„ Tai Sabaki
        </a>
    </div>

    <!-- Cibles -->
    <div class="sub-card kawaii-card">
        <h3 class="spicy">ðŸŽ¯ Cible â€“ 3 techniques</h3>
        <button id="btnCible" class="btn primary kawaii">ðŸ”„ Nouveau tirage</button>
        <ul id="cibleList" class="result-list"></ul>
    </div>

    <!-- ðŸ”¥ NOUVEAU BLOC : GÃ©nÃ©rateur dâ€™enchaÃ®nements alÃ©atoires (script fourni) -->
    <div class="sub-card kawaii-card">
        <h3 class="spicy">ðŸŽ² GÃ©nÃ©rateur dâ€™enchaÃ®nements alÃ©atoires</h3>

        <label>Nombre dâ€™enchaÃ®nements :</label>
        <input type="number" id="count" value="1" min="1" max="20">

        <br><br>

        <button onclick="generate()" class="btn primary kawaii">GÃ©nÃ©rer</button>
        <button onclick="readJapanese()" class="btn ghost kawaii">Lire en japonais</button>

        <div id="result"></div>
    </div>

</section>

  </main>


  <!-- Scripts -->
 document.querySelectorAll('.beep-icon').forEach(icon => {
    icon.addEventListener('click', function() {
        this.classList.toggle('off');
    });

</body>
</html>
